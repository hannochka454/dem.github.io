<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫—Ä–æ—Å—Å–≤–æ—Ä–¥ üéÑ</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #0a3d1e 0%, #1a5c37 50%, #2d7a4d 100%);
      color: #fff;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* –°–Ω–µ–∂–∏–Ω–∫–∏ */
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image:
        radial-gradient(circle, white 1px, transparent 1px),
        radial-gradient(circle, white 1px, transparent 1px),
        radial-gradient(circle, white 1px, transparent 1px);
      background-size: 50px 50px, 70px 70px, 90px 90px;
      background-position: 10px 10px, 30px 20px, 50px 40px;
      opacity: 0.3;
      pointer-events: none;
      z-index: -1;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      text-align: center;
    }

    h1 {
      font-size: 2.8rem;
      margin: 20px 0;
      text-shadow: 0 3px 6px rgba(0,0,0,0.4);
      color: gold;
    }

    .grid-container {
      display: inline-block;
      background: #222;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.6);
      margin: 20px auto;
    }

    .crossword-grid {
      display: grid;
      grid-template-columns: repeat(15, 40px);
      grid-template-rows: repeat(15, 40px);
      gap: 1px;
      background: #333;
      border: 3px solid #c1272d;
    }

    .cell {
      width: 40px;
      height: 40px;
      background: #f9f3e0;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      font-size: 1.4rem;
      font-weight: bold;
      color: #222;
      cursor: pointer;
      user-select: none;
    }

    .cell.black {
      background: #111;
      cursor: default;
    }

    .cell input {
      width: 90%;
      height: 90%;
      text-align: center;
      font-size: 1.3rem;
      font-weight: bold;
      border: none;
      background: transparent;
      color: #222;
      outline: none;
      text-transform: uppercase;
    }

    .cell .number {
      position: absolute;
      top: 2px;
      left: 2px;
      font-size: 0.6rem;
      color: #c1272d;
      font-weight: bold;
    }

    .hints {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 12px;
      margin-top: 25px;
      text-align: left;
    }

    .hints h2 {
      color: gold;
      margin-top: 0;
    }

    .hints ul {
      columns: 2;
      column-gap: 40px;
      padding-left: 20px;
    }

    .hints li {
      margin-bottom: 8px;
      font-size: 1.05rem;
    }

    .controls {
      margin: 20px 0;
    }

    button {
      background: #c1272d;
      color: white;
      border: none;
      padding: 12px 28px;
      font-size: 1.2rem;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    button:hover {
      background: #e03a3e;
      transform: scale(1.05);
    }

    .correct { background-color: #d4edda !important; color: #155724 !important; }
    .incorrect { background-color: #f8d7da !important; color: #721c24 !important; }

    @media (max-width: 768px) {
      .crossword-grid {
        grid-template-columns: repeat(15, 28px);
        grid-template-rows: repeat(15, 28px);
      }
      .cell input { font-size: 1rem; }
      .cell .number { font-size: 0.5rem; }
      .hints ul { columns: 1; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫—Ä–æ—Å—Å–≤–æ—Ä–¥ üéÑ</h1>

    <div class="grid-container">
      <div class="crossword-grid" id="grid"></div>
    </div>

    <div class="controls">
      <button id="checkBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    </div>

    <div class="hints">
      <h2>–ü–æ–¥—Å–∫–∞–∑–∫–∏:</h2>
      <ul>
        <li><b>1. –ü–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏:</b> –£–∫—Ä–∞—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ç–∞–≤—è—Ç –≤ –≥–æ—Å—Ç–∏–Ω–æ–π –≤ –¥–µ–∫–∞–±—Ä–µ ‚Üí <i>–Å–õ–ö–ê</i></li>
        <li><b>2. –ü–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏:</b> –ì–ª–∞–≤–Ω—ã–π –≤–æ–ª—à–µ–±–Ω–∏–∫ –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ ‚Üí <i>–î–ï–î–ú–û–†–û–ó</i></li>
        <li><b>3. –ü–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏:</b> –î—Ä—É–≥ –∏–∑ —Å–Ω–µ–≥–∞ —Å –º–æ—Ä–∫–æ–≤–Ω—ã–º –Ω–æ—Å–æ–º ‚Üí <i>–°–ù–ï–ì–û–í–ò–ö</i></li>
        <li><b>4. –ü–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏:</b> –Ø—Ä–∫–∞—è –±—É–º–∞–∂–Ω–∞—è ¬´–ø–∞–ª—å–±–∞¬ª –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–µ ‚Üí <i>–•–õ–û–ü–£–®–ö–ê</i></li>
        <li><b>5. –ü–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏:</b> –¶–∏—Ç—Ä—É—Å–æ–≤—ã–π —Å–∏–º–≤–æ–ª –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ ‚Üí <i>–ú–ê–ù–î–ê–†–ò–ù</i></li>
        <li><b>6. –ü–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏:</b> –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Å–∞–ª–∞—Ç —Å –∫–æ–ª–±–∞—Å–æ–π –∏ –æ–≤–æ—â–∞–º–∏ ‚Üí <i>–û–õ–ò–í–¨–ï</i></li>
        <li><b>7. –ü–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏:</b> ¬´–í–∏–Ω–µ–≥—Ä–µ—Ç¬ª –¥–ª—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–≥–æ —Å—Ç–æ–ª–∞ ‚Üí <i>–°–ê–õ–ê–¢</i></li>
        <li><b>8. –ü–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏:</b> –ù–æ—á–Ω–æ–µ —Ü–≤–µ—Ç–æ—á–Ω–æ–µ —à–æ—É –Ω–∞ –Ω–µ–±–µ ‚Üí <i>–§–ï–ô–ï–†–í–ï–†–ö</i></li>
        <li><b>9. –ü–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏:</b> –¢–æ, —á—Ç–æ –∂–¥—ë—à—å –ø–æ–¥ —ë–ª–∫–æ–π ‚Üí <i>–ü–û–î–ê–†–û–ö</i></li>
        <li><b>10. –ü–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏:</b> –ó–≤–æ–Ω –≤ –ø–æ–ª–Ω–æ—á—å 31 –¥–µ–∫–∞–±—Ä—è ‚Üí <i>–ë–û–ô–ö–£–†–ê–ù–¢</i></li>
      </ul>
    </div>
  </div>

  <script>
    // –°–ª–æ–≤–∞ –∏ –∏—Ö –ø–æ–∑–∏—Ü–∏–∏ (row, col, direction: 'h'/'v', word, number)
    const words = [
      { r: 1, c: 4, dir: 'h', word: "–Å–õ–ö–ê", num: 1 },
      { r: 0, c: 5, dir: 'v', word: "–î–ï–î–ú–û–†–û–ó", num: 2 },
      { r: 4, c: 1, dir: 'h', word: "–°–ù–ï–ì–û–í–ò–ö", num: 3 },
      { r: 1, c: 9, dir: 'v', word: "–•–õ–û–ü–£–®–ö–ê", num: 4 },
      { r: 7, c: 2, dir: 'h', word: "–ú–ê–ù–î–ê–†–ò–ù", num: 5 },
      { r: 3, c: 12, dir: 'v', word: "–û–õ–ò–í–¨–ï", num: 6 },
      { r: 10, c: 5, dir: 'h', word: "–°–ê–õ–ê–¢", num: 7 },
      { r: 12, c: 0, dir: 'h', word: "–§–ï–ô–ï–†–í–ï–†–ö", num: 8 },
      { r: 5, c: 7, dir: 'v', word: "–ü–û–î–ê–†–û–ö", num: 9 },
      { r: 14, c: 1, dir: 'h', word: "–ë–û–ô–ö–£–†–ê–ù–¢", num: 10 }
    ];

    const SIZE = 15;
    let grid = Array(SIZE).fill().map(() => Array(SIZE).fill(null)); // null = –ø—É—Å—Ç–∞—è, '#' = —á—ë—Ä–Ω–∞—è, –±—É–∫–≤–∞ = –∑–∞–Ω—è—Ç–∞
    let cellElements = Array(SIZE).fill().map(() => Array(SIZE).fill(null));
    let numberMap = {};

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∫–∏: —Å–Ω–∞—á–∞–ª–∞ —á—ë—Ä–Ω—ã–µ –∫–ª–µ—Ç–∫–∏ –ø–æ –∫–æ–Ω—Ç—É—Ä—É –∏ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏
    function initGrid() {
      // –ß—ë—Ä–Ω—ã–µ –ø–æ –ø–µ—Ä–∏–º–µ—Ç—Ä—É –∏ –≤ ¬´–ø—É—Å—Ç—ã—Ö¬ª –∑–æ–Ω–∞—Ö
      for (let r = 0; r < SIZE; r++) {
        for (let c = 0; c < SIZE; c++) {
          grid[r][c] = '#'; // –≤—Ä–µ–º–µ–Ω–Ω–æ –≤—Å–µ —á—ë—Ä–Ω—ã–µ
        }
      }

      // –†–∞–∑–º–µ—â–∞–µ–º —Å–ª–æ–≤–∞ –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–µ –∫–ª–µ—Ç–∫–∏
      words.forEach(({ r, c, dir, word }) => {
        for (let i = 0; i < word.length; i++) {
          let rr = r + (dir === 'v' ? i : 0);
          let cc = c + (dir === 'h' ? i : 0);
          if (rr < SIZE && cc < SIZE) {
            grid[rr][cc] = ''; // –¥–µ–ª–∞–µ–º –∫–ª–µ—Ç–∫—É –∞–∫—Ç–∏–≤–Ω–æ–π
          }
        }
      });

      // ¬´–ó–∞—á–µ—Ä–Ω—è–µ–º¬ª –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É—Å—Ç—ã–µ –∫–ª–µ—Ç–∫–∏ (–Ω–µ –∑–∞–Ω—è—Ç—ã–µ –∏ –Ω–µ —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–∞–º–∏)
      for (let r = 0; r < SIZE; r++) {
        for (let c = 0; c < SIZE; c++) {
          if (grid[r][c] === '') continue;
          // –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –Ω–µ –∑–∞–Ω—è—Ç–∞ –∏ —Å–æ—Å–µ–¥–µ–π-–±—É–∫–≤ –Ω–µ—Ç ‚Äî —á—ë—Ä–Ω–∞—è
          let hasNeighbor = false;
          for (let dr = -1; dr <= 1; dr++) {
            for (let dc = -1; dc <= 1; dc++) {
              if (dr === 0 && dc === 0) continue;
              let nr = r + dr, nc = c + dc;
              if (nr >= 0 && nr < SIZE && nc >= 0 && nc < SIZE && grid[nr][nc] === '') {
                hasNeighbor = true;
                break;
              }
            }
            if (hasNeighbor) break;
          }
          if (!hasNeighbor) grid[r][c] = '#';
        }
      }

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–º–µ—Ä–∞
      words.forEach(({ r, c, num }) => {
        numberMap[`${r},${c}`] = num;
      });
    }

    function renderGrid() {
      const gridEl = document.getElementById('grid');
      gridEl.innerHTML = '';

      for (let r = 0; r < SIZE; r++) {
        for (let c = 0; c < SIZE; c++) {
          const cell = document.createElement('div');
          cell.classList.add('cell');
          const key = `${r},${c}`;

          if (grid[r][c] === '#') {
            cell.classList.add('black');
          } else {
            const input = document.createElement('input');
            input.maxLength = 1;
            input.dataset.row = r;
            input.dataset.col = c;
            input.addEventListener('input', handleInput);
            input.addEventListener('click', () => setActiveCell(r, c));
            cell.appendChild(input);

            if (numberMap[key]) {
              const numSpan = document.createElement('span');
              numSpan.className = 'number';
              numSpan.textContent = numberMap[key];
              cell.appendChild(numSpan);
            }
          }

          cellElements[r][c] = cell;
          gridEl.appendChild(cell);
        }
      }
    }

    let activeRow = -1, activeCol = -1, activeDir = 'h';

    function setActiveCell(r, c) {
      if (grid[r][c] === '#') return;
      activeRow = r;
      activeCol = c;

      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ —Å–æ—Å–µ–¥–Ω–∏–º –∫–ª–µ—Ç–∫–∞–º
      if (c + 1 < SIZE && grid[r][c + 1] !== '#') activeDir = 'h';
      else if (r + 1 < SIZE && grid[r + 1][c] !== '#') activeDir = 'v';
      else if (c - 1 >= 0 && grid[r][c - 1] !== '#') activeDir = 'h';
      else if (r - 1 >= 0 && grid[r - 1][c] !== '#') activeDir = 'v';
    }

    function handleInput(e) {
      const input = e.target;
      let r = parseInt(input.dataset.row);
      let c = parseInt(input.dataset.col);
      let ch = input.value.toUpperCase().replace(/[^–ê-–Ø–Å]/g, '');
      input.value = ch;

      if (ch && activeRow === r && activeCol === c) {
        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∫–ª–µ—Ç–∫–µ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
        if (activeDir === 'h') c++;
        else r++;
        if (r < SIZE && c < SIZE && grid[r][c] !== '#') {
          const nextInput = cellElements[r][c].querySelector('input');
          if (nextInput) {
            nextInput.focus();
            activeRow = r;
            activeCol = c;
          }
        }
      }
    }

    function checkAnswers() {
      // –°–±—Ä–æ—Å –ø–æ–¥—Å–≤–µ—Ç–∫–∏
      document.querySelectorAll('.cell input').forEach(el => {
        el.parentElement.classList.remove('correct', 'incorrect');
      });

      let allCorrect = true;

      words.forEach(({ r, c, dir, word }) => {
        for (let i = 0; i < word.length; i++) {
          const rr = r + (dir === 'v' ? i : 0);
          const cc = c + (dir === 'h' ? i : 0);
          const input = cellElements[rr][cc].querySelector('input');
          const userChar = (input.value || '').toUpperCase();
          const correctChar = word[i];

          if (userChar === correctChar) {
            input.parentElement.classList.add('correct');
          } else {
            input.parentElement.classList.add('incorrect');
            allCorrect = false;
          }
        }
      });

      if (allCorrect) {
        setTimeout(() => alert('üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ö—Ä–æ—Å—Å–≤–æ—Ä–¥ —Ä–µ—à—ë–Ω! –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! üéÖ'), 300);
      }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', () => {
      initGrid();
      renderGrid();
      document.getElementById('checkBtn').addEventListener('click', checkAnswers);
    });
  </script>
</body>
</html>
